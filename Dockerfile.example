# Example Dockerfile for Java 22 Sandbox Environment
FROM ubuntu:22.04

# Set environment variables to avoid interactive prompts
ENV DEBIAN_FRONTEND=noninteractive
ENV TZ=UTC

# Create a non-root user (optional, for security)
RUN useradd -m -s /bin/bash sandbox

# Copy the Java installation script
COPY install-java22-docker.sh /tmp/install-java22-docker.sh

# Install Java 22 using the script
RUN chmod +x /tmp/install-java22-docker.sh && \
    /tmp/install-java22-docker.sh && \
    rm /tmp/install-java22-docker.sh

# Switch to non-root user (optional)
# USER sandbox
# WORKDIR /home/sandbox

# Set working directory for the application
WORKDIR /app

# Source Java environment for subsequent commands
SHELL ["/bin/bash", "-c", "source /etc/profile.d/java22.sh && exec /bin/bash"]

# Default command
CMD ["/bin/bash"]
